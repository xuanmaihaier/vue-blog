(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{574:function(t,s,e){"use strict";e.r(s);var n=e(5),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("以前面试总是从方面说vue3采用了es6的proxy进行对数据的检测，其实vue3小变动还是挺多的")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("-vue2")]),t._v(" "),e("th",[t._v("-vue3")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("created 和beforeCreated")]),t._v(" "),e("td",[t._v("setup")])]),t._v(" "),e("tr",[e("td",[t._v("computed")]),t._v(" "),e("td",[t._v("computed")])]),t._v(" "),e("tr",[e("td",[t._v("mouted")]),t._v(" "),e("td",[t._v("onMounted(()=>{})")])]),t._v(" "),e("tr",[e("td",[t._v("this.$ref")]),t._v(" "),e("td",[t._v("ref")])]),t._v(" "),e("tr",[e("td",[t._v("watch")]),t._v(" "),e("td",[t._v("watch(()=>x,(new,old)=>{})")])]),t._v(" "),e("tr",[e("td",[t._v("\\")]),t._v(" "),e("td",[t._v("watchEffect(()=>{}) 监听数据不需要写明监听谁")])]),t._v(" "),e("tr",[e("td",[t._v("data return")]),t._v(" "),e("td",[t._v("ref 基本类型定义响应式数据")])]),t._v(" "),e("tr",[e("td",[t._v("data return")]),t._v(" "),e("td",[t._v("reactive 对象定义响应式数据")])]),t._v(" "),e("tr",[e("td",[t._v("\\")]),t._v(" "),e("td",[t._v("toRefs 常用 return{...toRefs(x)}进行reactive的解构")])]),t._v(" "),e("tr",[e("td",[t._v("\\")]),t._v(" "),e("td",[t._v("toRaw 拿到数据的原始数据，对原始数据进行修改这样就不会被追踪，也不会更新UI界面，可用于性能优化")])]),t._v(" "),e("tr",[e("td",[t._v("Vue.nextTick")]),t._v(" "),e("td",[t._v("nextTick")])]),t._v(" "),e("tr",[e("td",[t._v("this.$emit")]),t._v(" "),e("td",[t._v("setup(props, { emit })")])]),t._v(" "),e("tr",[e("td",[t._v("prop")]),t._v(" "),e("td",[t._v("prop")])]),t._v(" "),e("tr",[e("td",[t._v("\\")]),t._v(" "),e("td",[t._v("PropType 如果prop传入参数类型需要被接口规范 需要使用断言 type:Object as PropType<接口> 但官网的例子我敲了 从父传过来的数据并没有被ts检测，不清楚什么情况")])]),t._v(" "),e("tr",[e("td",[t._v("EventBus")]),t._v(" "),e("td",[t._v("第三方库mitt 或使用 Provide / Inject")])]),t._v(" "),e("tr",[e("td",[t._v("Filters")]),t._v(" "),e("td",[t._v("\\")])])])]),t._v(" "),e("p",[t._v("全部采用了引入式api，极大减少了项目的体积")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('// 一个简单demo\nimport {\n    computed, // 计算属性方法\n    reactive, // 响应方法\n    toRefs, // 响应属性解组\n    defineComponent, // 组鉴定义\n    onMounted, // 生命周期函数\n    onActivated, // 生命周期函数\n    onDeactivated, // 生命周期函数\n    onUnmounted, // 生命周期函数\n    toRef, //\n    watch, // 数据监听函数\n    toRaw, // 数据取值\n    PropType,\n} from "vue";\nimport { DisplaySetType } from "@/views/review/comment-detail/patientDetailConfigUtil";\nexport default defineComponent({\n    name: "CommonPatientTab",\n    components: {},\n    props: {\n        tabList: {\n            type: Object as PropType<DisplaySetType>,\n            default: [\n                {\n                    id: "drug",\n                    name: "西/成药处方",\n                },\n            ],\n        },\n        needDisabledTab:{\n            default:\'\'\n        }\n    },\n    setup(props, { emit }) {\n        const state = reactive({\n            activatedTab: String as any,\n        });\n        const changeRadio = (value: any) => {\n            emit("enter", state.activatedTab);\n        };\n        watch(\n            () => props.tabList,\n            (newVal, oldVal) => {\n                let value = newVal;\n                if (value) {\n                    state.activatedTab = value[0];\n                    state.activatedTab = state.activatedTab.id;\n                    emit("enter", state.activatedTab);\n                }\n            }\n        );\n        return { ...toRefs(state), changeRadio };\n    },\n});\n')])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br"),e("span",{staticClass:"line-number"},[t._v("47")]),e("br"),e("span",{staticClass:"line-number"},[t._v("48")]),e("br"),e("span",{staticClass:"line-number"},[t._v("49")]),e("br"),e("span",{staticClass:"line-number"},[t._v("50")]),e("br"),e("span",{staticClass:"line-number"},[t._v("51")]),e("br"),e("span",{staticClass:"line-number"},[t._v("52")]),e("br"),e("span",{staticClass:"line-number"},[t._v("53")]),e("br"),e("span",{staticClass:"line-number"},[t._v("54")]),e("br")])]),e("p",[t._v("还有vue3后面可能会放弃vuex 采用pinia")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("-vuex")]),t._v(" "),e("th",[t._v("-piain")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("状态：mutation、states、actions、module和getters")]),t._v(" "),e("td",[t._v("states、actions和getters，去除了mutation，actions支持同步和异步")])]),t._v(" "),e("tr",[e("td",[t._v("不能获得较好的ts支持")]),t._v(" "),e("td",[t._v("完整的 typescript 的支持")])]),t._v(" "),e("tr",[e("td",[t._v("轻量")]),t._v(" "),e("td",[t._v("更轻量")])]),t._v(" "),e("tr",[e("td",[t._v("name")]),t._v(" "),e("td",[t._v("id（必填）")])]),t._v(" "),e("tr",[e("td",[t._v("获取state："),e("strong",[t._v("const")]),t._v(" name = computed(() => this.$store.name)")]),t._v(" "),e("td",[e("strong",[t._v("import")]),t._v(" { useUserStore } "),e("strong",[t._v("from")]),t._v(" '@/store/user' "),e("strong",[t._v("const")]),t._v(" name = computed(() => userStore.name)")])]),t._v(" "),e("tr",[e("td",[t._v("触发action：this.$store.displach")]),t._v(" "),e("td",[e("strong",[t._v("import")]),t._v(" { useUserStore } "),e("strong",[t._v("from")]),t._v(" '@/store/user' "),e("strong",[t._v("const")]),t._v(" userStore = useUserStore() userStore.updateName('李四')")])]),t._v(" "),e("tr",[e("td",[t._v("触发mutation：this.$store.action")]),t._v(" "),e("td",[t._v("\\")])]),t._v(" "),e("tr",[e("td",[t._v("持久化：vuex-persistedstate")]),t._v(" "),e("td",[t._v("pinia-plugin-persist")])])])]),t._v(" "),e("p",[t._v("先记录之后慢慢补充")])])}),[],!1,null,null,null);s.default=a.exports}}]);