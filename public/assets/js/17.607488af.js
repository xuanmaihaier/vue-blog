(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{572:function(s,n,e){"use strict";e.r(n);var a=e(5),r=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("  今天同事遇到一个巨奇怪的bug，搞了一天，就是一个node请求，post请求收不到的问题，我想着这么简单都不会，真菜，结果自己也整了一个下午，我一直以为是node的body-parser版本问题，整了半天后端，后来发现我直接不走前端代理访问后端接口，接口是通的能拿到返回值，但是我一走他前端的代理，请求就超时，那肯定是前端的问题，我又看他的axios是不是改了什么，发现也没啥问题，create出一个新的axios也不通，那大概就知道是代理的问题了")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 原代理\n devServer: {\n    port: port,\n    open: true,\n    overlay: {\n      warnings: false,\n      errors: true\n    },\n    // 问题就是这个before 这个before 用了mock走了代理 注释掉在main.js中处理一下就行\n    before: require('./mock/mock-server.js'),\n    proxy: {\n      // detail: https://cli.vuejs.org/config/#devserver-proxy\n      [process.env.VUE_APP_BASE_API]: {\n        target: `http://localhost:3001`,\n        changeOrigin: true,\n        pathRewrite: {\n          ['^' + process.env.VUE_APP_BASE_API]: ''\n        }\n      }\n    },\n    disableHostCheck: true\n  },\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// main.js 将 process.env.NODE_ENV === 'development' 改成下面的\nif (\n  process.env.NODE_ENV === 'production' ||\n  process.env.NODE_ENV === 'development'\n) {\n  const { mockXHR } = require('../mock')\n  mockXHR()\n}\n// 或者直接mockXHR() 应该也是可以的 他正式请求也写到mock写请求的文件里了 不知道是不是这个问题 现在正式接口也走了mock的方法\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);